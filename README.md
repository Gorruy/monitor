## О программе

Оба нужно запускать с полномочиями суперпользователя, первым запускается sniffer, он начинает собирать статистику по входящим пакетам, sniffer может принимать опции при запуске со значениями для фильтрации пакетов:

## Сборка
Клонируем репозиторий и переходим в корневую папку проекта
```sh
git clone https://github.com/Gorruy/sniffer.git && cd sniffer
```
Следующая команда создаст папку bin и два исполняемых файла в ней:
 ```sh
make build
 ```

Следующая команда, вызванная в корне проеката собирает дебиан пакет
```sh
sudo debuild -i -b
 ```
## Использование
Начинать использование программы необходимо с запуска sniffer'a, он начнет собирать данные о пакетах, для завершения работы программы необходимо послать программе сигнал SIGINT сочетанием клавиш (ctrl+c), программа может быть запущена со следующими опциями:

--interface: аргумент - название интерфейса, на котором необходимо принимать пакеты (должен быть указан обязательно)

--ipsrc: аргумент - значение ip адреса отправителя

--ipdest: аргумент - значение ip адреса получателя

--portsrc: аргумент - значение порта отправителя

--portdest: аргумент - значение порта получателя

После того, как sniffer отработает необходимое время, нужно запустить representer, он напечатает в стандартный вывод статистику по пакетам: 
количество принятых пакетов и общее количество байт в пакетах (включая байты для заголовков)

Важно! Нельзя запускать две версии программы sniffer одновременно.

## Тесты
Команда собирает файлы тестов и запускает их: сообщения об ошибках будут выведены в терминале, для выполнения тестов используется утилита netcat.
```sh
make tests
 ```
Для построения flamegraph'ов необходимо собрать программу следующей командой:
```sh
make truclean && make load
 ```
 и запустить соответствующие скрипты из папки tests
